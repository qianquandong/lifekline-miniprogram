# 人生K线 - 微信小程序 MVP 产品需求文档

## 📋 文档信息

- **产品名称**: 人生K线（微信小程序版）
- **版本**: MVP v1.0
- **创建日期**: 2025-01-27
- **产品定位**: 传统文化学习与个人成长分析工具（数据可视化），通过数据可视化帮助用户了解自身性格特点和发展趋势。**重要说明**：小程序本身不涉及AI技术，只是数据展示和可视化工具，所有分析数据由用户自行导入。

---

## 🎯 产品目标

### 核心目标
为微信用户提供便捷的传统文化学习工具，通过K线图可视化展示个人成长发展曲线，帮助用户进行自我认知和人生规划参考。

### MVP目标
- 验证核心功能可行性
- 测试用户对传统文化学习可视化产品的接受度
- 收集用户反馈，为后续迭代做准备

---

## 👥 目标用户

### 主要用户群体
- **年龄**: 25-45岁
- **特征**: 对传统文化、个人成长、自我认知感兴趣
- **场景**: 想了解自身性格特点、进行人生规划参考、学习传统文化知识
- **使用习惯**: 习惯使用微信小程序，追求便捷快速

---

## ✨ MVP核心功能

### 1. 个人信息输入
**功能描述**: 用户输入基本信息，用于生成传统文化分析数据

**输入字段**:
- 出生日期（年、月、日、时）
- 性别（男/女）

**交互要求**:
- 使用日期选择器选择出生日期
- 自动计算农历日期（如可能）
- 自动生成传统干支纪年信息（用于文化学习）
- 表单验证：必填项校验

**说明**: 本功能仅用于传统文化学习和个人成长分析，不涉及任何预测或建议功能。

**优先级**: P0（必须）

---

### 2. 分析提示词生成与复制
**功能描述**: 根据用户输入的基本信息，生成完整的分析提示词模板

**功能点**:
- 自动生成包含传统干支信息的完整提示词
- 一键复制提示词到剪贴板
- 显示提示词预览（可选）

**提示词内容包含**:
- 用户传统干支信息（用于文化学习）
- 分析要求（性格特质、事业发展、财富管理、情感关系、健康建议等）
- 输出格式要求（JSON格式）

**说明**: 提示词用于生成个人成长分析报告，仅供学习和参考使用。

**优先级**: P0（必须）

---

### 3. 分析结果导入
**功能描述**: 用户将从外部工具获得的个人成长分析结果导入小程序

**功能点**:
- 提供文本输入框，支持粘贴JSON数据
- JSON格式验证
- 数据解析和存储
- 错误提示（格式错误时）

**数据格式要求**:
```json
{
  "personality": "性格特质分析...",
  "career": "事业发展分析...",
  "wealth": "财富管理分析...",
  "marriage": "情感关系分析...",
  "health": "健康建议分析...",
  "growth": [
    {
      "age": 1,
      "score": 75,
      "trend": "up"
    }
    // ... 1-100岁成长数据
  ]
}
```

**说明**: 数据仅用于个人成长分析可视化，不涉及任何预测功能。

**优先级**: P0（必须）

---

### 4. 人生成长曲线图展示
**功能描述**: 以K线图形式展示1-100岁的个人成长发展曲线

**功能点**:
- 使用图表库（如echarts-for-weixin）绘制成长曲线图
- X轴：年龄（1-100岁）
- Y轴：成长指数（0-100，基于个人特质分析）
- K线颜色：
  - 上涨（绿色）：成长指数上升
  - 下跌（红色）：成长指数下降
- 支持缩放和滑动查看
- 点击显示具体年龄的成长详情

**图表要求**:
- 响应式设计，适配不同屏幕
- 流畅的交互体验
- 清晰的视觉呈现

**说明**: 图表仅用于展示个人成长分析数据，不涉及任何预测功能。

**优先级**: P0（必须）

---

### 5. 基础分析报告展示
**功能描述**: 展示个人成长分析报告

**功能点**:
- 展示性格特质分析
- 展示事业发展分析
- 展示财富管理分析
- 展示情感关系分析
- 展示健康建议分析
- 可折叠/展开的卡片式布局

**说明**: 分析报告仅用于个人成长参考和自我认知，不涉及任何预测功能。

**优先级**: P0（必须）

---

## 🚫 MVP不包含的功能（后续迭代）

- ❌ 风水相关建议
- ❌ 投资理财建议
- ❌ 人际关系分析
- ❌ 数据导出/分享
- ❌ 历史记录管理
- ❌ 用户登录/账户系统
- ❌ 社交分享功能

**重要说明**: 本产品不提供任何预测、建议或指导功能，所有内容仅供传统文化学习和个人成长参考。

---

## 📱 页面结构

### 页面列表
1. **首页（index）**: 个人信息输入
2. **结果页（result）**: 成长曲线图和分析报告展示

### 页面流程
```
首页（输入基本信息）
  ↓
生成提示词 → 复制提示词 → 在外部工具中使用
  ↓
导入分析结果
  ↓
结果页（成长曲线图 + 分析报告）
```

---

## 🎨 UI/UX设计要求

### 设计风格
- **风格**: 简洁、现代、有文化感
- **配色**: 
  - 主色：深色系（如#1a1a1a）或浅色系（如#f5f5f5）
  - 强调色：金色/橙色（代表成长发展）
  - K线：绿色（涨）、红色（跌）
- **字体**: 使用系统默认字体，确保可读性

### 免责声明要求
- 所有页面需明确标注"仅供学习和参考，不涉及任何预测功能"
- 强调内容基于传统文化知识，不构成任何建议或指导

### 交互要求
- 操作流程简单直观
- 关键操作有明确反馈
- 加载状态提示
- 错误提示友好

---

## 🔧 技术实现

### 技术栈
- **框架**: 微信小程序原生框架
- **图表库**: echarts-for-weixin 或 wx-charts
- **数据存储**: 本地存储（wx.setStorageSync）
- **日期处理**: 可能需要农历转换库

### 核心依赖
- echarts-for-weixin（图表）
- 可能需要：lunar-calendar（农历转换，可选）

### 技术说明
- **不涉及AI技术**：小程序使用原生微信小程序框架，不调用任何第三方AI接口
- **数据来源**：所有分析数据由用户自行导入，小程序仅负责展示和可视化
- **功能定位**：纯前端数据展示工具，不涉及任何AI技术调用或深度合成技术

### 性能要求
- 首屏加载时间 < 2秒
- 图表渲染流畅（60fps）
- 包体积控制在合理范围

---

## 📊 数据模型

### 用户输入数据
```javascript
{
  birthDate: "1990-01-01",
  birthTime: "12:00",
  gender: "male", // "male" | "female"
  startAge: 0
}
```

### 传统干支数据
```javascript
{
  year: "庚午",
  month: "戊子",
  day: "甲寅",
  hour: "庚午"
}
```

### 分析结果
```javascript
{
  personality: String,
  career: String,
  wealth: String,
  marriage: String,
  health: String,
  growth: Array<{
    age: Number, // 1-100
    score: Number, // 0-100 成长指数
    trend: String // "up" | "down" | "flat"
  }>
}
```

---

## ✅ 验收标准

### 功能验收
- [ ] 用户可以输入基本信息
- [ ] 系统能生成完整的分析提示词
- [ ] 用户可以复制提示词
- [ ] 用户可以导入分析结果JSON数据
- [ ] 系统能正确解析和验证JSON数据
- [ ] 成长曲线图能正确展示1-100岁成长数据
- [ ] 分析报告能正确展示
- [ ] 所有页面在不同机型上正常显示
- [ ] 所有页面包含免责声明

### 性能验收
- [ ] 页面加载时间 < 2秒
- [ ] 图表渲染流畅，无明显卡顿
- [ ] 无内存泄漏

### 兼容性验收
- [ ] 支持微信版本 >= 7.0
- [ ] 适配主流机型（iPhone、Android）

---

## 🐛 已知限制与风险

### 技术限制
- 小程序包大小限制（2MB，分包后20MB）
- 图表库可能增加包体积
- 农历转换可能需要额外库

### 业务风险
- 外部工具返回数据格式可能不一致，需要容错处理
- 用户可能输入错误的基本信息
- 内容可能被误解为预测或建议功能

### 应对措施
- 严格的JSON格式验证和容错
- 清晰的用户引导和错误提示
- 所有页面明确标注免责声明："本产品仅供传统文化学习和个人成长参考，不涉及任何预测、建议或指导功能"
- 产品定位明确为"学习工具"而非"预测工具"

---

## 📅 开发计划

### Phase 1: 基础功能（Week 1-2）
- 个人信息输入页面
- 提示词生成功能
- 数据导入功能
- 免责声明添加

### Phase 2: 可视化（Week 3）
- 成长曲线图实现
- 图表交互功能

### Phase 3: 报告展示（Week 4）
- 分析报告页面
- 页面样式优化
- 免责声明完善

### Phase 4: 测试与优化（Week 5）
- 功能测试
- 性能优化
- Bug修复

---

## 📝 后续迭代方向

### v1.1 功能增强
- 数据本地存储和历史记录
- 分享功能
- 更多分析维度

### v1.2 社交功能
- 用户账户系统
- 数据云端同步
- 社区功能

### v2.0 高级功能
- 更多传统文化知识学习
- 个人成长数据分析
- 更多可视化图表
- 学习笔记功能

**注意**: 所有功能均不涉及任何预测、建议或指导等敏感内容

---

## 📞 联系方式

- **产品负责人**: [待填写]
- **开发负责人**: [待填写]
- **设计负责人**: [待填写]

---

## 📄 附录

### 参考资源
- [lifekline GitHub项目](https://github.com/curionox/lifekline)
- 微信小程序官方文档
- echarts-for-weixin文档

### 相关文档
- 技术设计文档（待补充）
- UI设计稿（待补充）
- 测试用例（待补充）

---

---

## ⚠️ 重要声明

**本产品定位**:
- ✅ 传统文化学习工具
- ✅ 个人成长分析参考
- ✅ 自我认知辅助工具
- ❌ 不提供任何预测、建议或指导功能
- ❌ 不涉及任何迷信内容
- ❌ 所有分析结果仅供学习和参考，不构成任何建议或指导

**合规要求**:
- 所有页面需明确标注免责声明
- 产品描述中不得出现任何预测、建议、指导类敏感词汇
- 强调产品的教育性和学习性
- 所有功能均基于传统文化知识学习，不涉及任何预测功能

---

**文档版本**: v1.1  
**最后更新**: 2025-01-27  
**更新说明**: 调整产品定位，符合微信小程序平台规范
